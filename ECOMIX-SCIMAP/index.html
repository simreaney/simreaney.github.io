
<!DOCTYPE html>
<html>
<head>
  <title>SCIMAP Sediment for ECOMIX</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
   integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
   crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
   integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
   crossorigin=""></script>
  <style type="text/css">
    body {
       margin: 0;
       padding: 0;
       font-family: Arial, Helvetica, sans-serif;

    }
    html, body, #map{
       width: 100%;
       height: 100%;
    }

  </style>

	<style>#map { width: 100%; height: 100%; }
.info { padding: 6px 8px; font: 14px/16px Arial, Helvetica, sans-serif; background: white; background: rgba(255,255,255,0.8); box-shadow: 0 0 15px rgba(0,0,0,0.2); border-radius: 5px; } .info h4 { margin: 0 0 5px; color: #777; }
.legend { text-align: left; line-height: 18px; color: #555; } .legend i { width: 18px; height: 18px; float: left; margin-right: 8px; opacity: 0.7; }</style>

</head>
<body>
  <h1>SCIMAP Sediment for ECOMIX</h1>
  <div id="map"></div>
  <script>
  var map = L.map('map').setView([54.441140753170714, -2.035162312930186], 13.0);

  var group = new L.featureGroup();
  map1 = L.tileLayer('https://simreaney.github.io/ECOMIX-SCIMAP/top10pcent/{z}/{x}/{y}.jpg', {
    minZoom: 8,
    maxZoom: 18,
    tms: false,
    attribution: 'Generated by Sim Reaney with SCIMAP',
    name: 'Top 10% source areas for sediment based on SCIMAP'
  }).addTo(group);

  map2 = L.tileLayer('https://simreaney.github.io/ECOMIX-SCIMAP/connectivity/{z}/{x}/{y}.jpg', {
    minZoom: 8,
    maxZoom: 18,
    tms: false,
    attribution: 'Generated by Sim Reaney with SCIMAP',
    name: 'Hydrological connectivity based on the Network Index'
  }).addTo(group);

  map3 = L.tileLayer('https://simreaney.github.io/ECOMIX-SCIMAP/mobPot/{z}/{x}/{y}.jpg', {
    minZoom: 8,
    maxZoom: 18,
    tms: false,
    attribution: 'Generated by Sim Reaney with SCIMAP',
    name: 'Potential physcial mobilsiation of sediment'
  }).addTo(group);

  map4 = L.tileLayer('https://simreaney.github.io/ECOMIX-SCIMAP/inStreamConcn/{z}/{x}/{y}.jpg', {
    minZoom: 8,
    maxZoom: 18,
    tms: false,
    attribution: 'Generated by Sim Reaney with SCIMAP',
    name: 'In stream sediment risk concentration'
  }).addTo(group);

  map.addLayer(group);
  var baseMaps = {
    "Instream Risk Concentration": map4,
    "Top 10% Sediment Pathways": map1,
    "Hydrological Connectivity": map2,
    "Sediment Mobilisation Potential": map3

  };

  var layerControl = L.control.layers(baseMaps).addTo(map);

  //legend
  function getColor(d) {
    return d > 1.0  ? '#d7191c' :
           d > 0.8  ? '#fdae61' :
           d > 0.6   ? '#ffffbf' :
           d > 0.4   ? '#abdda4' :
           d > 0.2   ? '#2b83ba' :
                      '#2b83ba';
}

  var legend = L.control({position: 'bottomright'});

legend.onAdd = function (map) {

    var div = L.DomUtil.create('div', 'info legend'),
        grades = [0, 0.2, 0.4, 0.6, 0.8, 1.0],
        labels = [];

    // loop through our density intervals and generate a label with a colored square for each interval
    for (var i = 0; i < grades.length; i++) {
        div.innerHTML +=
            '<i style="background:' + getColor(grades[i] + 1) + '"></i> ' +
            grades[i] + (grades[i + 1] ? '&ndash;' + grades[i + 1] + '<br>' : '+');
    }

    return div;
};

legend.addTo(map);

//end legend

  function showHideTile(tileToShowOrHide)
{
    group.eachLayer(function(layer) {
        layer.eachLayer(function(yourLayer) {
            //Do your test here
            if (yourLayer == tileToShowOrHide) {
                //To add the layer to your map
                map.addLayer(yourLayer);
            } else {
                //To remove the layer
                map.removeLayer(yourLayer);
            }
            //You can also send an array to this function
            //With the layer name and what you want to do
            //Ex : tile1 hide
        })
    })
}



</script>







</body>
</html>
